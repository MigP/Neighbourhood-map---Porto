// Places view model
	var placesViewModel = {
		places: [
				{
					"name": "Miradouro da Vitória",
					"alt_names": [
						"Vitoria Lookout",
						"Vitoria Viewpoint"
					],
					"tags": ", Porto",
					"type": "scenic",
					"location": {
						"lat": 41.143163,
						"lng": -8.615812}
				},{
					"name": "Igreja do Carmo",
					"alt_names": [
						"Carmo Church"
					],
					"tags": ", Porto, -BRAZIL",
					"type": "church",
					"location": {
						"lat": 41.147344,
						"lng": -8.616343}
				},{
					"name": "Arrábida Bridge Climb",
					"alt_names": [
						"Porto Bridge Climb"
					],
					"tags": ", Porto",
					"type": "scenic",
					"location": {
						"lat": 41.148397,
						"lng": -8.64131}
				},{
					"name": "Funicular dos Guindais",
					"alt_names": [
						"Guindais Cable Car"
					],
					"tags": ", Porto",
					"type": "scenic",
					"location": {
						"lat": 41.14093,
						"lng": -8.609522}
				},{
					"name": "Elevador da Lada",
					"alt_names": [
						"Elevador da Ribeira",
						"Lada Lift",
						"Lada Elevator",
						"Ribeira Lift",
						"Ribeira Elevator"
					],
					"tags": "",
					"type": "scenic",
					"location": {
						"lat": 41.141048,
						"lng": -8.61115}
				},{
					"name": "Terreiro da Sé",
					"alt_names": [],
					"tags": ", Porto, -outdoor, -Lisbon, -D200",
					"type": "scenic",
					"location": {
						"lat": 41.14274,
						"lng": -8.61175}
				},{
					"name": "Miradouro das Virtudes",
					"alt_names": [
						"Passeio das Virtudes",
						"Virtudes Lookout",
						"Virtudes Viewpoint"
					],
					"tags": ", Porto",
					"type": "scenic",
					"location": {
						"lat": 41.14411,
						"lng": -8.618338}
				},{
					"name": "Miradouro das Fontaínhas",
					"alt_names": [
						"Fontainhas Lookout",
						"Fontainhas Viewpoint"
					],
					"tags": ", Porto, Portugal",
					"type": "scenic",
					"location": {
						"lat": 41.142599,
						"lng": -8.6013}
				},{
					"name": "Torre dos Clérigos",
					"alt_names": [
						"Clerigos Tower"
					],
					"tags": ", Porto",
					"type": "monument",
					"location": {
						"lat": 41.145675,
						"lng": -8.614599}
				},{
					"name": "Igreja dos Clérigos",
					"alt_names": [
						"Clerigos Cchurch"
					],
					"tags": ", Porto, Portugal",
					"type": "church",
					"location": {
						"lat": 41.145821,
						"lng": -8.613985}
				},{
					"name": "Igreja das Carmelitas",
					"alt_names": [
						"Carmelitas Church"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.14732,
						"lng": -8.616486}
				},{
					"name": "Igreja de Santo Antonio dos Congregados",
					"alt_names": [
						"Igreja dos Congregados",
						"Congregados Church"
					],
					"tags": ", Porto, Portugal",
					"type": "church",
					"location": {
						"lat": 41.146188,
						"lng": -8.610739}
				},{
					"name": "Igreja da Nossa Senhora da Lapa",
					"alt_names": [
						"Igreja da Lapa",
						"Lapa church"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.157061,
						"lng": -8.612318}
				},{
					"name": "Igreja de São Lourenço",
					"alt_names": [
						"Igreja dos Grilos",
						"Crickets Church",
						"St. Lawrence Church"
					],
					"tags": ", Igreja dos Grilos, Porto",
					"type": "church",
					"location": {
						"lat": 41.142186,
						"lng": -8.612677}
				},{
					"name": "Igreja da Trindade",
					"alt_names": [
						"Trindade Church"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.150829,
						"lng": -8.610491}
				},{
					"name": "Igreja de São Pedro de Miragaia",
					"alt_names": [
						"Sao Pedro de Miragaia Church",
						"Igreja Paroquial de Massarelos",
						"Massarelos Parochial Church"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.145949,
						"lng": -8.63057}
				},{
					"name": "Igreja de Nossa Senhora da Vitória",
					"alt_names": [
						"Our Lady of Vitoria Church",
						"Igreja de São Bento da Vitória",
						"Sao Bento da Vitoria Church"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.143442,
						"lng": -8.615799}
				},{
					"name": "Igreja de São Martinho de Cedofeita",
					"alt_names": [
						"Sao Martinho de Cedofeita Church"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.155796,
						"lng": -8.621672}
				},{
					"name": "Capela das Almas",
					"alt_names": [
						"Almas Chapel"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.149852,
						"lng": -8.605661}
				},{
					"name": "Estádio do Dragão",
					"alt_names": [
						"Estádio do Futebol Clube do Porto",
						"Dragao Stadium",
						"Porto Stadium"
					],
					"tags": ", Porto, -Aquitetura",
					"type": "stadium",
					"location": {
						"lat": 41.16177,
						"lng": -8.583591}
				},{
					"name": "Praça da Liberdade",
					"alt_names": [],
					"tags": ", Porto",
					"type": "scenic",
					"location": {
						"lat": 41.146404,
						"lng": -8.611538}
				},{
					"name": "Rua de Santa Catarina",
					"alt_names": [],
					"tags": ", Porto, -descalça",
					"type": "shopping",
					"location": {
						"lat": 41.153478,
						"lng": -8.604749}
				},{
					"name": "Norteshopping",
					"alt_names": [],
					"tags": ", Porto, -ramp, -Xmas, -50mm, -Maquetes, -outdoor",
					"type": "shopping",
					"location": {
						"lat": 41.180537,
						"lng": -8.655449}
				},{
					"name": "GaiaShopping",
					"alt_names": [],
					"tags": ", Gaia",
					"type": "shopping",
					"location": {
						"lat": 41.117889,
						"lng": -8.62352}
				},{
					"name": "Mar Shopping",
					"alt_names": [],
					"tags": ", Matosinhos, -groupshot",
					"type": "shopping",
					"location": {
						"lat": 41.209042,
						"lng": -8.687417}
				},{
					"name": "Arrábida Shopping",
					"alt_names": [],
					"tags": ", Gaia, -monochrome, -linux, -car, -water",
					"type": "shopping",
					"location": {
						"lat": 41.141072,
						"lng": -8.636264}
				},{
					"name": "Estádio do Bessa",
					"alt_names": [
						"Bessa Stadium"
					],
					"tags": ", Porto",
					"type": "stadium",
					"location": {
						"lat": 41.162194,
						"lng": -8.642572}
				},{
					"name": "Livraria Lello & Irmão",
					"alt_names": [
						"Lello Bookstore"
					],
					"tags": ", Porto",
					"type": "architectural",
					"location": {
						"lat": 41.146906,
						"lng": -8.614775}
				},{
					"name": "Palácio de Cristal",
					"alt_names": [
						"Crystal Palace"
					],
					"tags": ", Porto",
					"type": "park",
					"location": {
						"lat": 41.14834,
						"lng": -8.625638}
				},{
					"name": "Pavilhão Rosa Mota",
					"alt_names": [
						"Rosa Mota Pavillion"
					],
					"tags": ", Porto",
					"type": "stadium",
					"location": {
						"lat": 41.146887,
						"lng": -8.625893}
				},{
					"name": "Shopping Cidade do Porto",
					"alt_names": [],
					"tags": ", -Jockey, -brazil, -paraguai",
					"type": "shopping",
					"location": {
						"lat": 41.154937,
						"lng": -8.629644}
				},{
					"name": "Via Catarina Shopping",
					"alt_names": [],
					"tags": ", Porto",
					"type": "shopping",
					"location": {
						"lat": 41.148929,
						"lng": -8.60595}
				},{
					"name": "Terminal de Cruzeiros do Porto de Leixões",
					"alt_names": [
						"Cruise Terminal"
					],
					"tags": "",
					"type": "cruise",
					"location": {
						"lat": 41.177202,
						"lng": -8.701559}
				},{
					"name": "Marina da Afurada",
					"alt_names": [
						"Afurada Marina"
					],
					"tags": "",
					"type": "cruise",
					"location": {
						"lat": 41.142143,
						"lng": -8.649645}
				},{
					"name": "Marina do Freixo",
					"alt_names": [
						"Freixo Marina"
					],
					"tags": ", Porto, -Dantas",
					"type": "cruise",
					"location": {
						"lat": 41.14349,
						"lng": -8.5773}
				},{
					"name": "Porto de Leixões",
					"alt_names": [
						"Leixoes Seaport"
					],
					"tags": "",
					"type": "cruise",
					"location": {
						"lat": 41.182778,
						"lng": -8.703056}
				},{
					"name": "Monumento a Dom Pedro IV",
					"alt_names": [
						"D. Pedro IV Monument"
					],
					"tags": ", Porto, Portugal",
					"type": "monument",
					"location": {
						"lat": 41.146449,
						"lng": -8.611382}
				},{
					"name": "Fortaleza de São João da Foz",
					"alt_names": [
						"Castelo da Foz",
						"Foz Castle",
						"S. Joao da Foz Fortress"
					],
					"tags": ", Porto, -Brasil, -text, -Farol, -Lisboa, -Tavira",
					"type": "historic",
					"location": {
						"lat": 41.148999,
						"lng": -8.674399}
				},{
					"name": "She changes - Anémona",
					"alt_names": [],
					"tags": ", Matosinhos",
					"type": "monument",
					"location": {
						"lat": 41.173798,
						"lng": -8.687426}
				},{
					"name": "Praça dos Leões",
					"alt_names": [],
					"tags": ", Porto",
					"type": "scenic",
					"location": {
						"lat": 41.147132,
						"lng": -8.615617}
				},{
					"name": "Praça Mouzinho de Albuquerque",
					"alt_names": [
						"Rotunda da Boavista"
					],
					"tags": ", -StreetPhotography, -transportes, -flora, -grass, -Gustave, -Europa, -fotografi, -outdoor, -NY, -urban, -OPO, -border",
					"type": "scenic",
					"location": {
						"lat": 41.157974,
						"lng": -8.629112}
				},{
					"name": "Ponte de São João",
					"alt_names": [
						"S. Joao Bridge"
					],
					"tags": ", Porto, -Igrejas, -nuageux, -mywinners, -missurflickr, -monochrome, -sport",
					"type": "bridge",
					"location": {
						"lat": 41.138896,
						"lng": -8.595484}
				},{
					"name": "Galeria de Paris",
					"alt_names": [],
					"tags": ", Porto, -indoor, -Matilde, -Teixeira",
					"type": "nightlife",
					"location": {
						"lat": 41.147174,
						"lng": -8.614364}
				},{
					"name": "Sé do Porto",
					"alt_names": [
						"Sé Catedral",
						"Porto Cathedral"
					],
					"tags": ", -mywinners, -waterfront, -sky, -Augusto, -Vales, -SOE, -cisne, -Farol, -Bento, -ofereceram, -PFFG, -roof, -ArtCafe, -Alentejo, -balio",
					"type": "church",
					"location": {
						"lat": 41.142826,
						"lng": -8.611184}
				},{
					"name": "Monumento aos Heróis da Guerra Peninsular",
					"alt_names": [
						"Monument to the Heroes of the Peninsular War"
					],
					"tags": ", Porto",
					"type": "monument",
					"location": {
						"lat": 41.157974,
						"lng": -8.629112}
				},{
					"name": "Forte de São Francisco Xavier",
					"alt_names": [
						"S. Francisco Xavier fortress",
						"Castelo do Queijo",
						"Cheese Castle"
					],
					"tags": ", Porto",
					"type": "historic",
					"location": {
						"lat": 41.168539,
						"lng": -8.689947}
				},{
					"name": "Palácio da Bolsa",
					"alt_names": [
						"Stock Exchange Palace"
					],
					"tags": ", Porto",
					"type": "historic",
					"location": {
						"lat": 41.141426,
						"lng": -8.61581}
				},{
					"name": "Casa da Música",
					"alt_names": [
						"House of Music"
					],
					"tags": ", Porto, architecture",
					"type": "theatre",
					"location": {
						"lat": 41.158881,
						"lng": -8.630696}
				},{
					"name": "Farol de Felgueiras",
					"alt_names": [
						"Felgueiras Lighthouse"
					],
					"tags": ", Porto",
					"type": "lighthouse",
					"location": {
						"lat": 41.146731,
						"lng": -8.677283}
				},{
					"name": "Farol da Barra do Douro",
					"alt_names": [
						"Barra do Douro Lighthouse"
					],
					"tags": ", -Nova",
					"type": "lighthouse",
					"location": {
						"lat": 41.144727,
						"lng": -8.679521}
				},{
					"name": "Farol de São Miguel-o-Anjo",
					"alt_names": [
						"Lighthouse of São Miguel-o-Anjo"
					],
					"tags": ", -rampart, -geotagged, -Baptista",
					"type": "lighthouse",
					"location": {
						"lat": 41.147085,
						"lng": -8.666753}
				},{
					"name": "Farol da Boa Nova",
					"alt_names": [
						"Boa Nova Lighthouse"
					],
					"tags": ", Porto",
					"type": "lighthouse",
					"location": {
						"lat": 41.203374,
						"lng": -8.715866}
				},{
					"name": "World of Discoveries",
					"alt_names": [],
					"tags": ", Porto, museu, -Lisboa, Portugal, -rolhas, -architecture, -outdoor",
					"type": "museum",
					"location": {
						"lat": 41.143407,
						"lng": -8.620924}
				},{
					"name": "Parque da Cidade do Porto",
					"alt_names": [
						"Porto city park"
					],
					"tags": "",
					"type": "park",
					"location": {
						"lat": 41.168674,
						"lng": -8.678836}
				},{
					"name": "Estação de São Bento",
					"alt_names": [
						"S. Bento Station"
					],
					"tags": ", Porto",
					"type": "train",
					"location": {
						"lat": 41.145607,
						"lng": -8.61052}
				},{
					"name": "Câmara Municipal do Porto",
					"alt_names": [
						"Porto City Hall"
					],
					"tags": ", -Foz, -oPendura, -BRASIL",
					"type": "architectural",
					"location": {
						"lat": 41.149911,
						"lng": -8.61068}
				},{
					"name": "Edifício Vodafone",
					"alt_names": [
						"Vodafone Building"
					],
					"tags": ", Porto",
					"type": "architectural",
					"location": {
						"lat": 41.162571,
						"lng": -8.658432}
				},{
					"name": "Igreja do Bonfim",
					"alt_names": [
						"Bonfim Church"
					],
					"tags": ", Porto",
					"type": "church",
					"location": {
						"lat": 41.151371,
						"lng": -8.59331}
				},{
					"name": "Igreja de São Francisco",
					"alt_names": [
						"St. Francis Church",
						"Palácio das Bandeirinhas"
					],
					"tags": ", Porto, -amarante",
					"type": "church",
					"location": {
						"lat": 41.141011,
						"lng": -8.615717}
				},{
					"name": "Estátua do Infante Dom Henrique",
					"alt_names": [
						"Statue of Henry the Navigator"
					],
					"tags": ", Porto, -Nicolau",
					"type": "monument",
					"location": {
						"lat": 41.141384,
						"lng": -8.614956}
				},{
					"name": "Mercado Ferreira Borges",
					"alt_names": [
						"Ferreira Borges Market"
					],
					"tags": ", Porto, -walk, -ABigFave, -SIARC",
					"type": "nightlife",
					"location": {
						"lat": 41.141879,
						"lng": -8.614939}
				},{
					"name": "Casa do Infante",
					"alt_names": [
						"House of the Prince"
					],
					"tags": ", Porto, -Horizontal, -f100, -Tomar",
					"type": "museum",
					"location": {
						"lat": 41.140746,
						"lng": -8.614542}
				},{
					"name": "Casa-Museu Guerra Junqueiro",
					"alt_names": [
						"Guerra Junqueiro House Museum"
					],
					"tags": ", Porto, -NATAL, -Bridge",
					"type": "museum",
					"location": {
						"lat": 41.14254,
						"lng": -8.610706}
				},{
					"name": "Igreja de São Nicolau",
					"alt_names": [
						"St. Nicholas Church"
					],
					"tags": ", Porto, -Silvestre, -meet",
					"type": "church",
					"location": {
						"lat": 41.140614,
						"lng": -8.615328}
				},{
					"name": "Mosteiro da Serra do Pilar",
					"alt_names": [
						"Serra do Pilar Monastery"
					],
					"tags": ", -BlueRibbonWinner",
					"type": "church",
					"location": {
						"lat": 41.138367,
						"lng": -8.607367}
				},{
					"name": "Praia do Homem do Leme",
					"alt_names": [
						"Homem do Leme beach"
					],
					"tags": ", Porto, -franciscooliveira, -na",
					"type": "beach",
					"location": {
						"lat": 41.160057,
						"lng": -8.68559}
				},{
					"name": "SEA LIFE Porto",
					"alt_names": [],
					"tags": ", Porto, Foz, Portugal, Douro, -landscape, -sky, -people, -vehicle, -shore",
					"type": "zoo",
					"location": {
						"lat": 41.168524,
						"lng": -8.68775}
				},{
					"name": "Teatro Nacional São João",
					"alt_names": [
						"São João Theatre"
					],
					"tags": ", Porto, -BRASIL, -summer08",
					"type": "theatre",
					"location": {
						"lat": 41.144674,
						"lng": -8.60742}
				},{
					"name": "Mercado Bom Sucesso",
					"alt_names": [
						"Bom Sucesso Market"
					],
					"tags": ", Porto",
					"type": "food",
					"location": {
						"lat": 41.155825,
						"lng": -8.62916}
				},{
					"name": "Cais da Ribeira",
					"alt_names": [
						"Ribeira Boardwalk"
					],
					"tags": ", Porto",
					"type": "scenic",
					"location": {
						"lat": 41.140625,
						"lng": -8.611257}
				},{
					"name": "Cais de Gaia",
					"alt_names": [
						"Gaia Boardwalk"
					],
					"tags": ", Gaia, -wendy, -dog",
					"type": "scenic",
					"location": {
						"lat": 41.139385,
						"lng": -8.621535}
				},{
					"name": "Jardins da Avenida de Montevideu",
					"alt_names": [
						"Montevideu Avenue Gardens",
						"Jardim da Foz",
						"Foz garden"
					],
					"tags": ", Porto",
					"type": "park",
					"location": {
						"lat": 41.166762,
						"lng": -8.688598}
				},{
					"name": "Pérgola da Foz",
					"alt_names": [],
					"tags": ", Porto",
					"type": "monument",
					"location": {
						"lat": 41.157771,
						"lng": -8.683008}
				},{
					"name": "Jardim do Passeio Alegre",
					"alt_names": [
						"Passeio Alegre Garden"
					],
					"tags": ", Porto",
					"type": "park",
					"location": {
						"lat": 41.148206,
						"lng": -8.670802}
				},{
					"name": "Ponte D. Luís I",
					"alt_names": [
						"D. Luís I Bridge"
					],
					"tags": ", Porto",
					"type": "bridge",
					"location": {
						"lat": 41.139959,
						"lng": -8.609448}
				},{
					"name": "Ponte do Freixo",
					"alt_names": [
						"Freixo Bridge"
					],
					"tags": ", Porto",
					"type": "bridge",
					"location": {
						"lat": 41.142011,
						"lng": -8.580919}
				},{
					"name": "Ponte Infante D. Henrique",
					"alt_names": [
						"Infante D. Henrique Bridge"
					],
					"tags": ", Porto -Tomar, -Luiz, -aerial, -alfandega, -instituto",
					"type": "bridge",
					"location": {
						"lat": 41.141269,
						"lng": -8.60157}
				},{
					"name": "Ponte Dona Maria Pia",
					"alt_names": [
						"Dona Maria Pia Bridge"
					],
					"tags": ", Porto",
					"type": "bridge",
					"location": {
						"lat": 41.139746,
						"lng": -8.597168}
				},{
					"name": "Homem do Leme",
					"alt_names": [],
					"tags": ", Porto, -wave, -landscape, -instalação, -franciscooliveira",
					"type": "monument",
					"location": {
						"lat": 41.160729,
						"lng": -8.68499}
				},{
					"name": "Miguel Bombarda",
					"alt_names": [
						"Miguel Bombarda - Art District"
					],
					"tags": ", Porto",
					"type": "museum",
					"location": {
						"lat": 41.149677,
						"lng": -8.624314}
				},{
					"name": "Caves Croft",
					"alt_names": [
						"Croft Cellars"
					],
					"tags": ", Gaia, -geotagged",
					"type": "food",
					"location": {
						"lat": 41.13498,
						"lng": -8.615103}
				},{
					"name": "Praia da Luz",
					"alt_names": [
						"Luz Beach"
					],
					"tags": ", Porto, -mywinners, -repetidamente, -GoldenPhotographer, -serene, -Miramar, -waterfall, -france, -Oração, -Banho, -Calor, -Bahia",
					"type": "beach",
					"location": {
						"lat": 41.153425,
						"lng": -8.679296}
				},{
					"name": "Praia dos Ingleses",
					"alt_names": [
						"English Beach"
					],
					"tags": ", Porto, -Iracema, -Saint",
					"type": "beach",
					"location": {
						"lat": 41.151948,
						"lng": -8.678229}
				},{
					"name": "Praia do Carneiro",
					"alt_names": [
						"Ram Beach"
					],
					"tags": ", Porto, -Brazil, -Galinhas, -Oeiras, -Alfândega, -Malhoa, -Peru, -Angra, -people, -bebe, -DSC01025, -Azores, -Natal, -Ribeira, -Matosinhos",
					"type": "beach",
					"location": {
						"lat": 41.148493,
						"lng": -8.675667}
				},{
					"name": "Rivoli",
					"alt_names": [],
					"tags": ", Porto, -protesto",
					"type": "theatre",
					"location": {
						"lat": 41.14775,
						"lng": -8.609535}
				},{
					"name": "Coliseu",
					"alt_names": [],
					"tags": ", Porto",
					"type": "theatre",
					"location": {
						"lat": 41.146992,
						"lng": -8.605417}
				},{
					"name": "Casa de Serralves",
					"alt_names": [
						"Serralves House"
					],
					"tags": ", Porto, -tribute",
					"type": "museum",
					"location": {
						"lat": 41.159554,
						"lng": -8.656491}
				},{
					"name": "Jardins de Serralves",
					"alt_names": [
						"Serralves Gardens"
					],
					"tags": ", Porto",
					"type": "park",
					"location": {
						"lat": 41.158648,
						"lng": -8.657338}
				},{
					"name": "Mercado do Bolhão",
					"alt_names": [
						"Bolhao Market"
					],
					"tags": ", Porto",
					"type": "shopping",
					"location": {
						"lat": 41.149379,
						"lng": -8.60708}
				},{
					"name": "Rua das Flores",
					"alt_names": [
						"Flowers Street"
					],
					"tags": ", Porto, -feliz",
					"type": "scenic",
					"location": {
						"lat": 41.144285,
						"lng": -8.613052}
				},{
					"name": "O Piolho",
					"alt_names": [],
					"tags": ", Porto, -dog, -1155, -architecture, -Miguel, -Mouzinho, -Sousa",
					"type": "nightlife",
					"location": {
						"lat": 41.14692,
						"lng": -8.616507}
				},{
					"name": "Museu da Misericórdia do Porto",
					"alt_names": [
						"Porto Misericordia Museum"
					],
					"tags": ", Porto, -Minho, -Alegre, -Viseu, -Viagem, -Agradeço, -Aveiro",
					"type": "museum",
					"location": {
						"lat": 41.143706,
						"lng": -8.614544}
				},{
					"name": "Café Majestic",
					"alt_names": [
						"Majestic Café"
					],
					"tags": ", Porto",
					"type": "architectural",
					"location": {
						"lat": 41.147238,
						"lng": -8.60657}
				},{
					"name": "Museu Romântico",
					"alt_names": [
						"Romantic Museum"
					],
					"tags": ", Porto, -cristal",
					"type": "museum",
					"location": {
						"lat": 41.147556,
						"lng": -8.628456}
				},{
					"name": "Museu do Carro Eléctrico",
					"alt_names": [
						"Electric Car Museum"
					],
					"tags": ", Porto",
					"type": "museum",
					"location": {
						"lat": 41.147577,
						"lng": -8.632931}
				},{
					"name": "Centro Português de Fotografia",
					"alt_names": [
						"Portuguese Photography Centre"
					],
					"tags": ", Porto, -Calvet",
					"type": "museum",
					"location": {
						"lat": 41.144729,
						"lng": -8.61587}
				},{
					"name": "Museu Militar do Porto",
					"alt_names": [
						"Porto Military Museum"
					],
					"tags": ", Porto, -Baptista, -MARACASCALHO, -Brazil, -Donkeys, -galiza, -passeio",
					"type": "museum",
					"location": {
						"lat": 41.14596,
						"lng": -8.595263}
				},{
					"name": "Praia Internacional",
					"alt_names": [
						"International Beach"
					],
					"tags": ", Porto",
					"type": "beach",
					"location": {
						"lat": 41.171314,
						"lng": -8.688684}
				},{
					"name": "Praia do Castelo do Queijo",
					"alt_names": [
						"Cheese Castle Beach"
					],
					"tags": ", Porto",
					"type": "beach",
					"location": {
						"lat": 41.167499,
						"lng": -8.689918}
				},{
					"name": "Praia do Ourigo",
					"alt_names": [
						"Ourigo Beach"
					],
					"tags": ", Porto",
					"type": "beach",
					"location": {
						"lat": 41.150173,
						"lng": -8.676741}
				},{
					"name": "Praia das Pastoras",
					"alt_names": [
						"Shepherdesses Beach"
					],
					"tags": ", Porto, -puerto, -veronese",
					"type": "beach",
					"location": {
						"lat": 41.147422,
						"lng": -8.67335}
				},{
					"name": "Praia do Cabedelo do Douro",
					"alt_names": [
						"Cabedelo do Douro Beach"
					],
					"tags": ", Gaia",
					"type": "beach",
					"location": {
						"lat": 41.139876,
						"lng": -8.667225}
				},{
					"name": "Praia de Matosinhos",
					"alt_names": [
						"Matosinhos Beach"
					],
					"tags": ", Matosinhos, -Labruge, -Caminho, -Colorful",
					"type": "beach",
					"location": {
						"lat": 41.17637,
						"lng": -8.692676}
				},{
					"name": "Museu do Vinho do Porto",
					"alt_names": [
						"Port Wine Museum"
					],
					"tags": ", Porto, -Melgaço, -Monchique, -Afurada, -Penalva, -Trafaria",
					"type": "museum",
					"location": {
						"lat": 41.144919,
						"lng": -8.626739}
				},{
					"name": "Museu Soares dos Reis",
					"alt_names": [
						"Soares dos Reis Museum"
					],
					"tags": ", Porto, -fuji, -Amorim",
					"type": "museum",
					"location": {
						"lat": 41.147713,
						"lng": -8.621638}
				},{
					"name": "Galeria Municipal do Porto",
					"alt_names": [
						"Porto Municipal Gallery"
					],
					"tags": ", Porto, -Bolhão, -Tílias, -Tijuca, -Conde, -downtown, -ingleses, -Viseu, -Corunha",
					"type": "museum",
					"location": {
						"lat": 41.148637,
						"lng": -8.626516}
				},{
					"name": "Reserva Natural do Estuário do Douro",
					"alt_names": [
						"Douro estuary Nature Reserve"
					],
					"tags": ", Gaia",
					"type": "park",
					"location": {
						"lat": 41.137938,
						"lng": -8.662083}
				},{
					"name": "Praia de Lavadores",
					"alt_names": [
						"Lavadores Beach"
					],
					"tags": ", Gaia",
					"type": "beach",
					"location": {
						"lat": 41.129245,
						"lng": -8.668327}
				},{
					"name": "Ponte da Arrábida",
					"alt_names": [
						"Arrábida Bridge"
					],
					"tags": ", Porto",
					"type": "bridge",
					"location": {
						"lat": 41.147382,
						"lng": -8.640267}
				}
		],

				/*

				},{
					"name": "NOME",
					"alt_names": [
						"NOME"
					],
					"tags": ", Porto",
					"type": "NOME",
					"location": {
						"lat": 0000,
						"lng": 0000}
				}

				*/
		hiddenFilters: ko.observable(true),
		hide_sideNav: ko.observable(false),
		searchBox_focus: ko.observable(true),
		visibleSideNav: ko.observable(false),
		mapLoading: ko.observable(true),
		architecturalChecked: ko.observable(false),
		beachChecked: ko.observable(false),
		bridgeChecked: ko.observable(false),
		churchChecked: ko.observable(false),
		cruiseChecked: ko.observable(false),
		historicChecked: ko.observable(false),
		foodChecked: ko.observable(false),
		nightlifeChecked: ko.observable(false),
		zooChecked: ko.observable(false),
		lighthouseChecked: ko.observable(false),
		monumentChecked: ko.observable(false),
		museumChecked: ko.observable(false),
		parkChecked: ko.observable(false),
		scenicChecked: ko.observable(false),
		shoppingChecked: ko.observable(false),
		stadiumChecked: ko.observable(false),
		theatreChecked: ko.observable(false),
		trainChecked: ko.observable(false),
	    searchBox: ko.observable(''),
		focusMarker: function(markerToFocus) { // Makes the marker bounce and calls the getFlickr function
	        markerToFocus.marker.setAnimation(google.maps.Animation.BOUNCE);
        	getFlickrAndFoursquare(markerToFocus);
		},
		blurMarker: function(markerToBlur) { // Stops the marker's animatoin and clears infowindow
	        markerToBlur.marker.setAnimation(null);
        	infowindow.setContent(null);
	    },
	    clickItem: function() { // Triggered when a list item is clicked. Deselects the current selected item, if any, and selects the one clicked on
	    	self = this;

	    	if(selectedMarker) {
	    		placesViewModel.blurMarker(selectedMarker);
	    	}
	        placesViewModel.focusMarker(self);
	        selectedMarker = self;
	        placesViewModel.closeNav();
	    },
	    toggleBox: function(item) { // Toggles the boolean corresponding to the checked or unchecked box
	    	item(!item());
	    },
		openNav: function() {
			placesViewModel.hide_sideNav(false);
		},
		closeNav: function() {
			placesViewModel.hide_sideNav(true);
		}
	};

    placesViewModel.removeDiacritics = function(str) { // Returns string without diacritics
       var defaultDiacriticsRemovalMap = [
			{'base':'A', 'letters':/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},
			{'base':'AA','letters':/[\uA732]/g},
			{'base':'AE','letters':/[\u00C6\u01FC\u01E2]/g},
			{'base':'AO','letters':/[\uA734]/g},
			{'base':'AU','letters':/[\uA736]/g},
			{'base':'AV','letters':/[\uA738\uA73A]/g},
			{'base':'AY','letters':/[\uA73C]/g},
			{'base':'B', 'letters':/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},
			{'base':'C', 'letters':/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},
			{'base':'D', 'letters':/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},
			{'base':'DZ','letters':/[\u01F1\u01C4]/g},
			{'base':'Dz','letters':/[\u01F2\u01C5]/g},
			{'base':'E', 'letters':/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},
			{'base':'F', 'letters':/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},
			{'base':'G', 'letters':/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},
			{'base':'H', 'letters':/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},
			{'base':'I', 'letters':/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},
			{'base':'J', 'letters':/[\u004A\u24BF\uFF2A\u0134\u0248]/g},
			{'base':'K', 'letters':/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},
			{'base':'L', 'letters':/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},
			{'base':'LJ','letters':/[\u01C7]/g},
			{'base':'Lj','letters':/[\u01C8]/g},
			{'base':'M', 'letters':/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},
			{'base':'N', 'letters':/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},
			{'base':'NJ','letters':/[\u01CA]/g},
			{'base':'Nj','letters':/[\u01CB]/g},
			{'base':'O', 'letters':/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},
			{'base':'OI','letters':/[\u01A2]/g},
			{'base':'OO','letters':/[\uA74E]/g},
			{'base':'OU','letters':/[\u0222]/g},
			{'base':'P', 'letters':/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},
			{'base':'Q', 'letters':/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},
			{'base':'R', 'letters':/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},
			{'base':'S', 'letters':/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},
			{'base':'T', 'letters':/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},
			{'base':'TZ','letters':/[\uA728]/g},
			{'base':'U', 'letters':/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},
			{'base':'V', 'letters':/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},
			{'base':'VY','letters':/[\uA760]/g},
			{'base':'W', 'letters':/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},
			{'base':'X', 'letters':/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},
			{'base':'Y', 'letters':/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},
			{'base':'Z', 'letters':/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},
			{'base':'a', 'letters':/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},
			{'base':'aa','letters':/[\uA733]/g},
			{'base':'ae','letters':/[\u00E6\u01FD\u01E3]/g},
			{'base':'ao','letters':/[\uA735]/g},
			{'base':'au','letters':/[\uA737]/g},
			{'base':'av','letters':/[\uA739\uA73B]/g},
			{'base':'ay','letters':/[\uA73D]/g},
			{'base':'b', 'letters':/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},
			{'base':'c', 'letters':/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},
			{'base':'d', 'letters':/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},
			{'base':'dz','letters':/[\u01F3\u01C6]/g},
			{'base':'e', 'letters':/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},
			{'base':'f', 'letters':/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},
			{'base':'g', 'letters':/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},
			{'base':'h', 'letters':/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},
			{'base':'hv','letters':/[\u0195]/g},
			{'base':'i', 'letters':/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},
			{'base':'j', 'letters':/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},
			{'base':'k', 'letters':/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},
			{'base':'l', 'letters':/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},
			{'base':'lj','letters':/[\u01C9]/g},
			{'base':'m', 'letters':/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},
			{'base':'n', 'letters':/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},
			{'base':'nj','letters':/[\u01CC]/g},
			{'base':'o', 'letters':/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},
			{'base':'oi','letters':/[\u01A3]/g},
			{'base':'ou','letters':/[\u0223]/g},
			{'base':'oo','letters':/[\uA74F]/g},
			{'base':'p','letters':/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},
			{'base':'q','letters':/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},
			{'base':'r','letters':/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},
			{'base':'s','letters':/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},
			{'base':'t','letters':/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},
			{'base':'tz','letters':/[\uA729]/g},
			{'base':'u','letters':/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},
			{'base':'v','letters':/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},
			{'base':'vy','letters':/[\uA761]/g},
			{'base':'w','letters':/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},
			{'base':'x','letters':/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},
			{'base':'y','letters':/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},
			{'base':'z','letters':/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}
       ];

       for (var i = 0; i < defaultDiacriticsRemovalMap.length; i++) {
          str = str.replace(defaultDiacriticsRemovalMap[i].letters, defaultDiacriticsRemovalMap[i].base);
       }

       return str;
    }

	placesViewModel.sortPlaces = (function sortPlaces(places) { // Sorts places alphabetically by name
		places.sort(function(a, b){
		    var nameA = placesViewModel.removeDiacritics(a.name.toLowerCase()), nameB = placesViewModel.removeDiacritics(b.name.toLowerCase());
		    if (nameA < nameB) {
		        return -1;
		    } else if (nameA > nameB) {
		        return 1;
		    } else {
		    	return 0;
		    }
		});
	})(placesViewModel.places);

    placesViewModel.toggleFilters = function(){ // Toggles hiddenFilters boolean which is bound to the section containing all the types filters
    	var self = this;
        self.hiddenFilters(!self.hiddenFilters());
    };

    placesViewModel.checkAllFilters = function(){ // Checks all filter checkboxes
    	var self = this;

		self.architecturalChecked(true);
		self.beachChecked(true);
		self.bridgeChecked(true);
		self.churchChecked(true);
		self.cruiseChecked(true);
		self.historicChecked(true);
		self.foodChecked(true);
		self.nightlifeChecked(true);
		self.zooChecked(true);
		self.lighthouseChecked(true);
		self.monumentChecked(true);
		self.museumChecked(true);
		self.parkChecked(true);
		self.scenicChecked(true);
		self.shoppingChecked(true);
		self.stadiumChecked(true);
		self.theatreChecked(true);
		self.trainChecked(true);
    };

    placesViewModel.uncheckAllFilters = function(){ // Unchecks all filter checkboxes
    	var self = this;

		self.architecturalChecked(false);
		self.beachChecked(false);
		self.bridgeChecked(false);
		self.churchChecked(false);
		self.cruiseChecked(false);
		self.historicChecked(false);
		self.foodChecked(false);
		self.nightlifeChecked(false);
		self.zooChecked(false);
		self.lighthouseChecked(false);
		self.monumentChecked(false);
		self.museumChecked(false);
		self.parkChecked(false);
		self.scenicChecked(false);
		self.shoppingChecked(false);
		self.stadiumChecked(false);
		self.theatreChecked(false);
		self.trainChecked(false);
    };

    placesViewModel.clearSearch = function(){ // Clears the search box
    	var self = this;

		self.searchBox('');
	};

    placesViewModel.search = ko.computed(function() { // Filters places depending on type filters and on search input
        var self = this;

        var searchResult = placesViewModel.removeDiacritics(this.searchBox().toLowerCase());

        return ko.utils.arrayFilter(placesViewModel.places, function(place) {

	    	var filtered = function() { // Determines whether a type filter is applied to the iterated place
	        	if (place.type == "architectural") {
	        		return self.architecturalChecked();
	        	} else if (place.type == "beach") {
	        		return self.beachChecked();
	        	} else if (place.type == "bridge") {
	        		return self.bridgeChecked();
	        	} else if (place.type == "church") {
	        		return self.churchChecked();
	        	} else if (place.type == "cruise") {
	        		return self.cruiseChecked();
	        	} else if (place.type == "historic") {
	        		return self.historicChecked();
	        	} else if (place.type == "lighthouse") {
	        		return self.lighthouseChecked();
	        	} else if (place.type == "monument") {
	        		return self.monumentChecked();
	        	} else if (place.type == "museum") {
	        		return self.museumChecked();
	        	} else if (place.type == "park") {
	        		return self.parkChecked();
	        	} else if (place.type == "scenic") {
	        		return self.scenicChecked();
	        	} else if (place.type == "shopping") {
	        		return self.shoppingChecked();
	        	} else if (place.type == "stadium") {
	        		return self.stadiumChecked();
	        	} else if (place.type == "theatre") {
	        		return self.theatreChecked();
	        	} else if (place.type == "train") {
	        		return self.trainChecked();
	        	} else if (place.type == "food") {
	        		return self.foodChecked();
	        	} else if (place.type == "nightlife") {
	        		return self.nightlifeChecked();
	        	} else if (place.type == "zoo") {
	        		return self.zooChecked();
	        	}
	        };

        	for (var i = 0; i < place.alt_names.length + 1; i++) {
        		if (i == 0) {
					var title = placesViewModel.removeDiacritics(place.name.toLowerCase()); // Compares search input with iterated place name
        		} else {
	            	var title = placesViewModel.removeDiacritics(place.alt_names[i-1].toLowerCase()); // Compares search with its alternative names
        		}

	            if (!matched) {
	            	var matched = title.indexOf(searchResult) >= 0;
	            }
        	}

            if (!filtered()) { // If a type filter is applied to this iterated place, matched becomes false regardless of whether it is true according to search input alone
            	matched = false;
            }

            if (typeof infowindow !== 'undefined' && !matched){
            	if (infowindow.content != null) {
            		infowindow.close(); // Closes infowindow if its corresponding place is filtered out
            	}
            }

    		if (matched || i == place.alt_names.length + 1) { // Hides relevant markers from map
	            var placeToFilter = place.marker;
	            if (placeToFilter) {
	                placeToFilter.setVisible(matched);
	            }
	            return matched;
    		}
        });
    }, placesViewModel);
